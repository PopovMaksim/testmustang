function scrollLink(){const t=document.querySelector(".catalog__content"),e=t.offsetTop,n=document.querySelectorAll(".catalog__navigation-category");function o(){let t=document.querySelector(".navigation-category_active");t&&t.classList.remove("navigation-category_active")}n.forEach(n=>{n.addEventListener("click",()=>{const c=n.getAttribute("data-category"),a=t.querySelector(`.catalog__products-category[data-category="${c}"]`).offsetTop;t.scrollTop=a-e,o(),n.classList.add("navigation-category_active")})}),function(){const c=document.querySelectorAll(".catalog__products-category"),a={};c.forEach((t,n)=>{a[n]=t.offsetTop-e}),t.addEventListener("scroll",(function(){for(let e in a)if(t.scrollTop<=a[e]+100)return o(),void n[e].classList.add("navigation-category_active")}))}()}function showInfo(){const t=document.querySelector(".header__info"),e=document.querySelector(".header__info-content");t.addEventListener("mouseover",()=>{e.style.display="flex"}),t.addEventListener("mouseout",()=>{setTimeout((function(){e.style.display=""}),3e3)})}function changeWeight(t){const e=t.parentNode.querySelector(".products-weight__number");"products-weight__up"===t.classList.value?e.textContent=Number(e.textContent)+5:"products-weight__down"===t.classList.value&&Number(e.textContent)>5&&(e.textContent=Number(e.textContent)-5)}function clickChangeWeight(){const t=document.querySelector(".catalog");let e;t.addEventListener("click",n=>{e=t.querySelectorAll(".products-weight button"),e.forEach(t=>{n.target===t&&changeWeight(n.target)})})}function addProduct(){const t=document.querySelectorAll(".catalog__products-button"),e=document.querySelector(".catalog__aside-products");t.forEach(t=>{t.addEventListener("click",(function(){const n=t.parentNode,o=n.parentNode.getAttribute("data-category"),c=n.querySelector(".products-weight__number").textContent,a=n.querySelector(".catalog__products-title").textContent,r=e.querySelector(`[data-category="${o}"]`);r.style.display="list-item";let s;if(e.querySelectorAll(".basket-product").forEach(t=>{if(a===t.querySelector("h6").textContent){let e=t.querySelector(".products-weight__number").textContent;e=Number(e)+Number(this.parentNode.querySelector(".products-weight__number").textContent),t.querySelector(".products-weight__number").textContent=e,s=0}}),0===s)return;let l=document.createElement("div");l.classList.add("basket-product");let d=document.querySelector(".products-weight").cloneNode(!0);d.querySelector(".products-weight__number").textContent=c;let i="0";"bag"===n.getAttribute("data-container")?i="Мешки 25 кг":"bucket"===n.getAttribute("data-container")&&(i="Ведра по 1 и 5 кг");const u=`<div class="basket-product__heading">\n                                    <h6>${a}</h6>\n                                    <div class="basket-product__right">\n                                        <div class="basket-product__container">${i}</div>\n                                        <div class="basket-product__btn">\n                                            <span class="basket-product__btn-item"></span>\n                                            <span class="basket-product__btn-item"></span>\n                                            <span class="basket-product__btn-item"></span>\n                                            <div class="basket-product__btn-content">\n                                                <div class="basket-product__background">\n                                                    <svg xmlns="http://www.w3.org/2000/svg" width="193" height="103" viewBox="0 0 193 102.603">\n                                                        <defs>\n                                                            <filter id="vvt9q0m26a" width="193" height="102.603" x="0" y="0" filterUnits="userSpaceOnUse">\n                                                                <feOffset dy="3"/>\n                                                                <feGaussianBlur result="blur" stdDeviation="3"/>\n                                                                <feFlood flood-opacity=".161"/>\n                                                                <feComposite in2="blur" operator="in"/>\n                                                                <feComposite in="SourceGraphic"/>\n                                                            </filter>\n                                                        </defs>\n                                                        <g filter="url(#vvt9q0m26a)">\n                                                            <path fill="#fff" d="M-4077-2087.4a8 8 0 0 1-8-8v-57a8 8 0 0 1 8-8h148.44l18.56-11.6v76.6a8 8 0 0 1-8 8z" transform="translate(4094 2178)"/>\n                                                        </g>\n                                                    </svg>\n                                                </div>\n                                                <div class="basket-product__btn-content_info">\n                                                    <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13">\n                                                        <path fill="#2ec0d1" d="M0 6.5A6.5 6.5 0 1 1 6.5 13 6.508 6.508 0 0 1 0 6.5zm1.625 0A4.875 4.875 0 1 0 6.5 1.625 4.881 4.881 0 0 0 1.625 6.5zM5.69 8.936v-3.25h1.625v3.25zm0-4.875a.813.813 0 1 1 .812.812.812.812 0 0 1-.814-.812z"/>\n                                                    </svg>\n                                                    Узнать о продукте\n                                                </div>\n                                                <span class="basket-product__btn-content_border"></span>\n                                                <div class="basket-product__btn-content_delete">\n                                                    <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13">\n                                                        <path fill="#2ec0d1" d="M8.125 11.916H2.709a1.093 1.093 0 0 1-.779-.324 1.007 1.007 0 0 1-.3-.715l-.5-6h-.047A1.084 1.084 0 0 1 0 3.792V2.709a1.085 1.085 0 0 1 1.083-1.084h1.626v-.542A1.084 1.084 0 0 1 3.792 0h3.25a1.085 1.085 0 0 1 1.083 1.083v.542H9.75a1.085 1.085 0 0 1 1.083 1.084v1.083A1.084 1.084 0 0 1 9.75 4.875h-.043l-.5 5.958a1.084 1.084 0 0 1-1.082 1.083zM2.214 4.875l.495 5.958h5.416v-.045l.492-5.913zM1.083 2.709v1.083H9.75V2.709H1.083zm2.709-1.626v.542h3.25v-.542z" transform="translate(1.083 .542)"/>\n                                                    </svg>\n                                                    Удалить продукт\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="products-weight">\n                                    ${d.innerHTML}\n                                </div>`;l.innerHTML=u,r.appendChild(l),document.querySelector(".catalog__aside-arrange")||function(){const t=document.querySelector(".catalog__aside"),e=document.createElement("input");e.classList.add("catalog__aside-arrange"),e.setAttribute("type","submit"),e.setAttribute("value","Оформить"),t.appendChild(e)}(),document.querySelectorAll(".basket-product__btn").forEach(t=>{t.addEventListener("mouseover",(function(){this.querySelector(".basket-product__btn-content").style.display="block"})),t.addEventListener("mouseout",(function(){this.querySelector(".basket-product__btn-content").style.display=""}))}),function(){const t=document.querySelectorAll(".basket-product"),e=document.querySelectorAll(".basket-product__btn-content_delete"),n=document.querySelectorAll(".catalog__aside-category li");e.forEach((e,o)=>{e.addEventListener("click",()=>{t[o].remove(),n.forEach(t=>{t.querySelector(".basket-product")||(t.style.display="none")});document.querySelector(".basket-product")||document.querySelector(".catalog__aside-arrange").remove()})})}()}))})}function menuProduct(){document.querySelector(".basket-product__btn").forEach(t=>{t.addEventListener("click",()=>{t.querySelector(".basket-product__btn-content").style.display="block"})})}function switchCatalog(){document.querySelector(".catalog__content-radio").addEventListener("click",t=>{const e=t.target,n=document.querySelector('.catalog__product-catalog[data-catalog="main"]'),o=document.querySelector('.catalog__product-catalog[data-catalog="personal"]');"switch"===e.getAttribute("data-btn")&&("main-catalog"===e.id?(n.style.display="block",o.style.display="none"):"personal-catalog"===e.id&&(o.style.display="block",n.style.display="none"))})}switchCatalog(),scrollLink(),showInfo(),addProduct(),clickChangeWeight();