function scrollLink(){const t=document.querySelector(".catalog__content"),e=t.offsetTop,o=document.querySelectorAll(".catalog__navigation-category");function c(){let t=document.querySelector(".navigation-category_active");t&&t.classList.remove("navigation-category_active")}o.forEach(o=>{o.addEventListener("click",()=>{const n=o.getAttribute("data-category"),a=t.querySelector(`.catalog__products-category[data-category="${n}"]`).offsetTop;t.scrollTop=a-e,c(),o.classList.add("navigation-category_active")})}),function(){const n=document.querySelectorAll(".catalog__products-category"),a={};n.forEach((t,o)=>{a[o]=t.offsetTop-e}),t.addEventListener("scroll",(function(){for(let e in a)if(t.scrollTop<=a[e]+100)return c(),void o[e].classList.add("navigation-category_active")}))}()}function showInfo(){const t=document.querySelector(".header__info"),e=document.querySelector(".header__info-content");t.addEventListener("mouseover",()=>{e.style.display="flex"}),t.addEventListener("mouseout",()=>{setTimeout((function(){e.style.display=""}),3e3)})}function changeWeight(t){const e=t.parentNode.querySelector(".products-weight__number");"products-weight__up"===t.classList.value?e.textContent=Number(e.textContent)+5:"products-weight__down"===t.classList.value&&Number(e.textContent)>5&&(e.textContent=Number(e.textContent)-5)}function clickChangeWeight(){const t=document.querySelector(".catalog");let e;t.addEventListener("click",o=>{e=t.querySelectorAll(".products-weight button"),e.forEach(t=>{o.target===t&&changeWeight(o.target)})})}function addProduct(){const t=document.querySelectorAll(".catalog__products-button"),e=document.querySelector(".catalog__aside-products");t.forEach(t=>{t.addEventListener("click",(function(){const o=t.parentNode,c=o.parentNode.getAttribute("data-category"),n=o.querySelector(".products-weight__number").textContent,a=o.querySelector(".catalog__products-title").textContent,r=e.querySelector(`[data-category="${c}"]`);r.style.display="list-item";let l;if(e.querySelectorAll(".basket-product").forEach(t=>{if(a===t.querySelector("h6").textContent){let e=t.querySelector(".products-weight__number").textContent;e=Number(e)+Number(this.parentNode.querySelector(".products-weight__number").textContent),t.querySelector(".products-weight__number").textContent=e,l=0}}),0===l)return;let d=document.createElement("div");d.classList.add("basket-product");let u=document.createElement("div");u.classList.add("basket-product__heading");let i=document.createElement("h6");i.textContent=a;let s=document.querySelector(".products-weight").cloneNode(!0);s.querySelector(".products-weight__number").textContent=n;let p=document.createElement("div");p.classList.add("basket-product__container"),"bag"===o.getAttribute("data-container")?p.textContent="Мешки 25 кг":"bucket"===o.getAttribute("data-container")&&(p.textContent="Ведра по 1 и 5 кг");let _=document.createElement("div");_.classList.add("basket-product__btn");for(let t=0;t<3;t++)_.appendChild(document.createElement("span"));let y=document.createElement("section");y.classList.add("basket-product__btn-content");let g=document.createElement("div");g.classList.add("basket-product__btn-content_info"),g.textContent="Узнать о продукте";let m=document.createElement("div");m.classList.add("basket-product__btn-content_delete"),m.textContent="Удалить продукт",y.appendChild(g),y.appendChild(m),_.appendChild(y),u.appendChild(i),u.appendChild(p),u.appendChild(_),d.appendChild(u),d.appendChild(s),r.appendChild(d),document.querySelector(".catalog__aside-arrange")||function(){const t=document.querySelector(".catalog__aside"),e=document.createElement("input");e.classList.add("catalog__aside-arrange"),e.setAttribute("type","submit"),e.setAttribute("value","Оформить"),t.appendChild(e)}(),document.querySelectorAll(".basket-product__btn").forEach(t=>{t.addEventListener("mouseover",(function(){this.querySelector(".basket-product__btn-content").style.display="block"})),t.addEventListener("mouseout",(function(){this.querySelector(".basket-product__btn-content").style.display=""}))}),function(){const t=document.querySelectorAll(".basket-product"),e=document.querySelectorAll(".basket-product__btn-content_delete"),o=document.querySelectorAll(".catalog__aside-category li");e.forEach((e,c)=>{e.addEventListener("click",()=>{t[c].remove(),o.forEach(t=>{t.querySelector(".basket-product")||(t.style.display="none")});document.querySelector(".basket-product")||document.querySelector(".catalog__aside-arrange").remove()})})}()}))})}function menuProduct(){document.querySelector(".basket-product__btn").forEach(t=>{t.addEventListener("click",()=>{t.querySelector(".basket-product__btn-content").style.display="block"})})}function switchCatalog(){document.querySelector(".catalog__content-radio").addEventListener("click",t=>{const e=t.target,o=document.querySelector('.catalog__product-catalog[data-catalog="main"]'),c=document.querySelector('.catalog__product-catalog[data-catalog="personal"]');"switch"===e.getAttribute("data-btn")&&("main-catalog"===e.id?(o.style.display="block",c.style.display="none"):"personal-catalog"===e.id&&(c.style.display="block",o.style.display="none"))})}switchCatalog(),scrollLink(),showInfo(),addProduct(),clickChangeWeight();